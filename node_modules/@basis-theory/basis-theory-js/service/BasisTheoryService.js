"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BasisTheoryService = void 0;

var _axios = _interopRequireDefault(require("axios"));

var _common = require("../common");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class BasisTheoryService {
  constructor(options) {
    const {
      apiKey,
      baseURL,
      transformRequest,
      transformResponse
    } = options;
    this.client = _axios.default.create({
      baseURL,
      headers: {
        [_common.API_KEY_HEADER]: apiKey
      },

      /* eslint-disable unicorn/prefer-spread */
      transformRequest: [].concat(transformRequest || _common.transformRequestSnakeCase, _axios.default.defaults.transformRequest),
      transformResponse: _axios.default.defaults.transformResponse.concat(transformResponse || _common.transformResponseCamelCase)
      /* eslint-enable unicorn/prefer-spread */

    });
    this.client.interceptors.response.use(undefined, _common.errorInterceptor);
  }

}

exports.BasisTheoryService = BasisTheoryService;